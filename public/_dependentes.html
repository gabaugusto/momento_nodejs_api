<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Momento | Dependentes</title>
</head>

<body>

    <div class="container">
        <header
            class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom">
            <div class="col-md-3 mb-2 mb-md-0">
                <a href="index.html" class="d-inline-flex logo-header link-body-emphasis text-decoration-none">
                    <img src="orange.png" class="bi" title="logo" title="logo" />

                </a>
            </div>

            <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
                <li><a href="index.html" class="nav-link px-2 link-secondary">Home</a></li>
                <li><a href="funcionarios.html" class="nav-link px-2">Funcionários</a></li>
                <li><a href="escritorios.html" class="nav-link px-2">Escritórios</a></li>
                <li><a href="dependentes.html" class="nav-link px-2">Dependentes</a></li>
            </ul>

            <div class="col-md-3 text-end">
                <button type="button" class="btn btn-outline-primary me-2">Login</button>
                <button type="button" class="btn btn-primary">Cadastrar</button>
            </div>
        </header>
    </div>

    <div class="container mt-5">
        <div id="records" class="row">

            <!-- Registros  -->

        </div>
    </div>

    <div class="container">
        <footer class="py-3 my-4">
            <ul class="nav justify-content-center border-bottom pb-3 mb-3">
                <li class="nav-item"><a href="index.html" class="nav-link px-2 text-body-secondary">Home</a></li>
                <li class="nav-item"><a href="funcionarios.html" class="nav-link px-2 text-body-secondary">Funcionários</a></li>
                <li class="nav-item"><a href="escritorios.html" class="nav-link px-2 text-body-secondary">Escritórios</a></li>
                <li class="nav-item"><a href="dependentes.html" class="nav-link px-2 text-body-secondary">Dependentes</a>
                </li>
            </ul>
            <p class="text-center text-body-secondary">© 2023 Company, Inc</p>
        </footer>
    </div>


     <!-- Bootstrap JS and Popper.js -->
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"></script>

     <!-- Fetch data from Fake Store API using JavaScript -->
     <script>
         document.addEventListener('DOMContentLoaded', function () {
             fetch('/dependentes')
                 .then(response => response.json())
                 .then(data => displayProducts(data));
         });
 
         function displayProducts(records) {
             const recordsContainer = document.getElementById('records');
 
             console.log(records);
             records.forEach(record => {
                 const card = document.createElement('div');
                 card.classList.add('col-md-4', 'mb-4');
                 
                 var nome = record.primeiro_nome + " " +  record.sobrenome;
                 var nome_funcionario = record.funcionario_primeiro_nome + " " +  record.funcionario_sobrenome;

                 card.innerHTML = `
                     <div class="card exemplo">
                         
                         <div class="card-body">
                             <h5 class="card-title title">${nome}</h5>
                            
                             <p class="card-text price text-left">
                                <strong>Relacionado à : </strong><span>${nome_funcionario}</span><br />
                                <strong>Relacionamento: </strong><span>${record.parentesco}</span><br />
                                
                            </p>
                         </div>
                     </div>
                 `;
 
                 recordsContainer.appendChild(card);
             });
         }
     </script>

</body>

</html>